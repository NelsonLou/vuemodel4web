(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-201a15b1"],{"244e":function(e,t,o){var r=o("2d2c");r(r.P,"Array",{fill:o("72b6")}),o("68fb")("fill")},"72b6":function(e,t,o){"use strict";var r=o("aa91"),i=o("8da8"),a=o("33f2");e.exports=function(e){var t=r(this),o=a(t.length),n=arguments.length,s=i(n>1?arguments[1]:void 0,o),l=n>2?arguments[2]:void 0,d=void 0===l?o:i(l,o);while(d>s)t[s++]=e;return t}},9073:function(e,t,o){"use strict";var r=o("9762"),i=o.n(r);i.a},9762:function(e,t,o){},dd7b:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login clearfloat"},[o("el-card",{staticClass:"login_card right"},[o("div",{staticClass:"login_LOGO"}),o("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules}},[o("el-form-item",{attrs:{prop:"userName"}},[o("el-input",{ref:"userNameIP",attrs:{placeholder:"用户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFocus("pwdIP")}},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{ref:"pwdIP",attrs:{placeholder:"密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFocus("validateBoxIP")}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("el-form-item",{directives:[{name:"loading",rawName:"v-loading",value:e.validateLoading,expression:"validateLoading"}],staticClass:"clearfloat",attrs:{prop:"code"}},[o("el-input",{ref:"validateBoxIP",staticClass:"validateBoxIP",attrs:{placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin("validateBoxIP")}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",e._n(t))},expression:"loginForm.code"}}),o("canvas",{staticClass:"right",attrs:{id:"validateBox"}})],1),o("el-form-item"),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleLogin("loginForm")}}},[e._v("提交")]),o("el-button",{on:{click:function(t){return e.handleReset("loginForm")}}},[e._v("重置")])],1)],1)],1)],1)},i=[],a=(o("244e"),{name:"login",data:function(){return{img:"",focus:"userName",validateLoading:!1,flagSubmit:!1,loginForm:{userName:"",password:"",code:"",codeId:""},rules:{userName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},created:function(){},computed:{code:function(){return this.$store.state.login.code}},mounted:function(){this.$store.dispatch("getValidateCode")},watch:{code:function(e){this.handleCreated(e)}},methods:{getValidateCode:function(){this.handleCreated("test")},handleCreated:function(e){var t={canvasId:"validateBox",txt:e,height:50,width:220};this.writeAuthCode(t)},writeAuthCode:function(e){var t=document.getElementById(e.canvasId);t.width=e.width||300,t.height=e.height||150;var o=t.getContext("2d");o.textBaseline="middle",o.fillStyle=this.randomColor(180,255),o.fillRect(0,0,e.width,e.height);for(var r=0;r<e.txt.length;r++){var i=e.txt.charAt(r);o.font="20px SimHei",o.fillStyle=this.randomColor(50,160),o.shadowOffsetY=this.randomNum(-3,3),o.shadowBlur=this.randomNum(-3,3),o.shadowColor="rgba(0, 0, 0, 0.3)";var a=e.width/(e.txt.length+1)*(r+1),n=e.height/2,s=this.randomNum(-30,30);o.translate(a,n),o.rotate(s*Math.PI/180),o.fillText(i,0,0),o.rotate(-s*Math.PI/180),o.translate(-a,-n)}for(var l=0;l<this.randomNum(1,4);l++)o.strokeStyle=this.randomColor(40,180),o.beginPath(),o.moveTo(this.randomNum(0,e.width),this.randomNum(0,e.height)),o.lineTo(this.randomNum(0,e.width),this.randomNum(0,e.height)),o.stroke();for(var d=0;d<e.width/6;d++)o.fillStyle=this.randomColor(0,255),o.beginPath(),o.arc(this.randomNum(0,e.width),this.randomNum(0,e.height),1,0,2*Math.PI),o.fill()},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){var o=this.randomNum(e,t),r=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+o+","+r+","+i+")"},handleLogin:function(){var e=this;this.flagSubmit=!0,this.$refs["loginForm"].validate(function(t){if(!t)return""==e.loginForm.userName?e.$refs.userNameIP.focus():""==e.loginForm.password?e.$refs.pwdIP.focus():""==e.loginForm.code&&e.$refs.validateBoxIP.focus(),!1;e.$store.dispatch("handleLogin",e.loginForm)})},handleFocus:function(e){""==this.loginForm.userName?this.$refs.userNameIP.focus():""==this.loginForm.password?this.$refs.pwdIP.focus():""==this.loginForm.code?this.$refs.validateBoxIP.focus():this.handleLogin()},handleReset:function(e){this.$refs[e].resetFields()}}}),n=a,s=(o("9073"),o("17cc")),l=Object(s["a"])(n,r,i,!1,null,null,null);t["default"]=l.exports}}]);